{{/*
layout for single items without template in TYPE/single.html
page layout
*/}}


{{ define "schema" }}
<script type="application/ld+json">
{
  "@context": "http://schema.org",
  "@type": "BlogPosting",
  {{- /* Google recommends the headline be no more than 110 characters */}}
  "headline": "{{ substr .Title 0 110 }}",
  {{- with .Params.images -}}{{ range first 1 . }}
  "image": {
    "@type": "ImageObject",
    "url": "{{ . | absURL }}"
    {{- /* Don't try to get imageConfig if image param is not local */ -}}
    {{- if not (or (hasPrefix . "http://") (hasPrefix . "https://")) -}}
    {{- with (imageConfig (printf "/static/%s" .)) -}}
    ,
    "height": "{{ .Height }}",
    "width": "{{ .Width }}"
    {{- end -}}
    {{ end }}
  },
  {{- end -}}{{ end }}
  "url": "{{ printf "%s" .Permalink }}",
  "wordCount": "{{ .WordCount }}",
  {{- $ISO8601 := "2006-01-02T15:04:05-07:00" }}
  {{- if not .PublishDate.IsZero }}
  "datePublished": "{{ .PublishDate.Format $ISO8601 }}",
  {{- else }}
  "datePublished": "{{ .Date.Format $ISO8601 }}",
  {{- end }}
  {{- if not .Lastmod.IsZero }}
  "dateModified": "{{ .Lastmod.Format $ISO8601 }}",
  {{- end }}
  {{- with .Site.Social.GooglePlus }}
  "publisher": "{{ printf "%s" . }}",
  {{- end }}
  "author": {
    "@type": "Person",
    "name": "{{ .Params.author | default .Site.Params.author }}"
  }
  {{- if or (.Params.keywords) (or (.Params.categories) (.Params.tags)) -}}
  ,
  "keywords": "{{ delimit (union .Params.keywords (union .Params.categories .Params.tags)) ", " }}"
  {{- end }}

  {{- with .Params.description -}}
  ,
  "description": "{{ . }}"
  {{- end }}
}
</script>

{{ end }}


{{ define "main" }}
<article >
	<header class="title">
        <h2 class="entry-title">
            <a href="{{ .Permalink }}">{{ .Title }}</a>
        </h2>
        {{ with .Params.hideMeta }}
        {{ else }}
		<div class="meta">
		  <div class="row">
		    <div class="col-md-9 is--taglist">
		      {{ with .Params.tags }}
                <span class="icon" aria-hidden="true">
                  {{ partialCached "icons/tags.svg" . }}
                </span>
		        {{ range $i, $e := . }}
		          {{ if $i }}/{{ end }}
		          <a href="{{ "tags/" | absURL }}{{ $e | urlize }}" rel="tag">{{ $e }}</a>
		        {{ end }}
		      {{ end }}
		    </div>
		    <span class="col-md-3 text-sm-left text-xs-left text-md-right">
		      <time class="post-date updated" datetime="{{ .Date.Format "2006-01-02T15:04:05-0700" }}">
		            <span class="icon" aria-hidden="true">
                  {{ partialCached "icons/calendar-alt.svg" . }}
                </span>
		        {{ .Date.Format "2" }}.
		        {{ index $.Site.Data.months.months .Date.Month }}
		        {{ .Date.Format "2006" }}
		      </time>
		    </span>
		  </div>
		</div>
		{{ end }}
	</header>
	<div class="text entry-content">
		{{ with .Params.featured_image }}
		  	<img src="{{ . | absURL }}" />
		{{ end }}
		{{ .Content }}
	</div>
</article>
{{ end }}
